!function(){var e={},t={};e.getMonthData=function(e,t,a){var r={};r.data=[];var i=t&&e||void 0!==t?a?new Date(e,t-1,a):new Date(e,t-1):new Date;e=i.getFullYear(),t=i.getMonth()+1,r.thisYear=e,r.thisMonth=t,r.thisDate=a?i.getDate():"undefined";for(var d=new Date(e,t-1,1).getDay(),n=new Date(e,t,0),c=n.getDay(),s=n.getDate(),u=s+(6-c),o=1-d;o<=u;o++){var h=new Date(e,t-1,o),l=o<=0?0:o>s?0:1;r.data.push({showDate:h.getDate(),date:o,order:l})}return r},e.ui={init:function(e,t,a){this.build(),this.getDate(e,t,a)},build:function(){var e="";e+='<div class="ui-datepicker-wrapper">',e+='<div class="ui-datepicker-header">',e+='<a href="javascript:void(0);" data-rel="prev" class="ui-datepicker-btn ui-datepicker-prev-btn">&lt;</a>',e+='<span class="ui-datepicker-display"><a class="ui-datepicker-display-year"></a> - <a class="ui-datepicker-display-month"></a></span>',e+='<a href="javascript:void(0);" data-rel="next" class="ui-datepicker-btn ui-datepicker-next-btn">&gt;</a>',e+="</div>",e+='<div class="ui-datepicker-body">',e+="<table>",e+="<thead>",e+="<tr>",e+="<th>日</th>",e+="<th>一</th>",e+="<th>二</th>",e+="<th>三</th>",e+="<th>四</th>",e+="<th>五</th>",e+="<th>六</th>",e+="</tr>",e+="</thead>",e+="<tbody>",e+="</tbody>",e+="<table>",e+="</div>",e+="</div>",t.innerHTML=e},getDate:function(a,r,i){for(var d=t,n=e.getMonthData(a,r,i),c=n.thisDate,s="",u=0;u<n.data.length;u++){var o=n.data[u];u%7==0&&(s+="<tr>"),s+='<td class="'+(Boolean(o.order)?o.showDate==c?"active":"":"notCurrMonth ")+"\" data-rel='"+o.date+"'>"+o.showDate+"</td>",u%7==6&&(s+="</tr>")}d.querySelector(".ui-datepicker-display-year").text=n.thisYear,d.querySelector(".ui-datepicker-display-month").text=n.thisMonth<10?"0"+n.thisMonth:n.thisMonth,d.querySelector("tbody").innerHTML=s}},e.bindEvents=function(){var a=t.querySelector(".ui-datepicker-wrapper");a.addEventListener("click",function(r){var i=Number(a.querySelector(".ui-datepicker-display-year").text),d=Number(a.querySelector(".ui-datepicker-display-month").text),n=r.target.dataset.rel;switch(t=this.parentNode,!0){case/prev/.test(n):e.ui.getDate(i,d-1);break;case/next/.test(n):e.ui.getDate(i,d+1);break;case/[0-9]/i.test(n):e.ui.getDate(i,d,n)}})},e.getPickedDate=function(e){var t=this.ele;e=e||"-";return{"currYear:":Number(t.querySelector(".ui-datepicker-display-year").text),"currMonth:":Number(t.querySelector(".ui-datepicker-display-month").text),"currDate:":Number(t.querySelector(".ui-datepicker-body .active").innerHTML)}},e.init=function(a){t=void 0!==(a=a||{}).ele?a.ele:".datepicker",t=document.querySelector(t);var r=a.date?a.date.split("-"):(new Date).toLocaleDateString().split("/");try{return e.ui.init(r[0],r[1],r[2]),e.bindEvents(),{ele:t,getPickedDate:e.getPickedDate}}catch(e){console.log(e)}},window.datepicker=e.init}();